<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Flexy lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Flexy admin lite design, Flexy admin lite dashboard bootstrap 5 dashboard template">
  <meta name="description" content="Flexy Admin Lite is powerful and clean admin dashboard template, inpired from Bootstrap Framework">
  <meta name="robots" content="noindex,nofollow">
  <title>Flexy Admin Lite Template by WrapPixel</title>
  <link rel="canonical" href="https://www.wrappixel.com/templates/Flexy-admin-lite/" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.png">
  <link href="dist/css/style.min.css" rel="stylesheet">
  <link rel="stylesheet" href="//cdn.datatables.net/2.2.2/css/dataTables.dataTables.min.css">
</head>

<body>
  <div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full" data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
    <!-- Start Header -->
    <header class="topbar" data-navbarbg="skin6">
      <nav class="navbar top-navbar navbar-expand-md navbar-light">
        <div class="navbar-header" data-logobg="skin6">
          <a class="navbar-brand" href="index.html">
            <b class="logo-icon">
              <img src="assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
              <img src="assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
            </b>
            <span class="logo-text">
              <img src="assets/images/logo-text.png" alt="homepage" class="dark-logo" />
              <img src="assets/images/logo-light-text.png" class="light-logo" alt="homepage" />
            </span>
          </a>
          <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)">
            <i class="mdi mdi-menu"></i>
          </a>
        </div>

        <div class="navbar-collapse collapse" id="navbarSupportedContent" data-navbarbg="skin5">
          <ul class="navbar-nav float-end ms-auto">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark pro-pic" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="assets/images/users/profile.png" alt="user" class="rounded-circle" width="31">
              </a>
              <ul class="dropdown-menu dropdown-menu-end user-dd animated" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="javascript:void(0)">
                  <i class="mdi mdi-account-box"></i>
                  Administrator
                </a>
                <a class="dropdown-item" href="">
                  <i class="mdi mdi-logout"></i>
                  Logout
                </a>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <!-- End Header -->

    <!-- Start Aside -->
    <aside class="left-sidebar" data-sidebarbg="skin6">
      <div class="scroll-sidebar">
        <nav class="sidebar-nav">
          <ul id="sidebarnav">
            <li class="sidebar-item selected">
              <a class="sidebar-link waves-effect waves-dark sidebar-link" href="index.html" aria-expanded="false">
                <i class="mdi mdi-view-dashboard"></i>
                <span class="hide-menu">Dashboard</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link waves-effect waves-dark sidebar-link" href="product.html" aria-expanded="false">
                <i class="mdi mdi-store"></i>
                <span class="hide-menu">Produk</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link waves-effect waves-dark sidebar-link" href="transaction.html" aria-expanded="false">
                <i class="mdi mdi-cart"></i>
                <span class="hide-menu">Pembelian</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link waves-effect waves-dark sidebar-link" href="user.html" aria-expanded="false">
                <i class="mdi mdi-account"></i>
                <span class="hide-menu">User</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </aside>
    <!-- End Aside -->

    <!-- Start Main Content -->
    <div class="page-wrapper">
      <div class="page-breadcrumb">
        <div class="row align-items-center">
          <div class="col-6">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb mb-0 d-flex align-items-center">
                <li class="breadcrumb-item"><a href="index.html" class="link"><i class="mdi mdi-home-outline fs-4"></i></a></li>
                <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
              </ol>
            </nav>
            <h1 class="mb-0 fw-bold">Dashboard</h1> 
          </div>
        </div>
      </div>

      <div class="container-fluid">
        <div class="row">
          <div class="card">
            <div class="card-body">
              <div class="d-md-flex align-items-center">
                <div>
                  <h4 class="card-title">Selamat Datang, Administrator!</h4>
                </div>
              </div>
              <div class="row">
                <!-- Start Dashboard Admin -->
                <div class="col-lg-8">
                    <canvas id="barChart"></canvas>
                </div>
                <div class="col-lg-4">
                    <canvas id="pieChart"></canvas>
                </div>
                <!-- End Dashboard Admin -->

                <!-- Start Dashboard Cashier -->
                <!-- <div class="card text-center p-0">
                    <div class="card-header">
                        Total Penjualan Hari Ini
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ $totalTransactions }}</h5>
                        <p class="card-text">Jumlah total penjualan yang terjadi hari ini.</p>
                    </div>
                    <div class="card-footer text-body-secondary">
                        Terakhir diperbarui: {{ $lastUpdated }}
                    </div>
                </div> -->
                <!-- End Dashboard Cashier -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Main Content -->
  </div>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="assets/libs/jquery/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="//cdn.datatables.net/2.2.2/js/dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    function showBasicAlert(title, text, icon) {
      Swal.fire({
        title,
        text,
        icon
      });
    }

    // const transactionData = @json($transactionData);
    // const productSales = @json($productSales);
    
    const barLabels = transactionData.map(item => item.date);
    const pieLabels = productSales.map(item => item.product_name);
    const barData = transactionData.map(item => item.total_transactions);
    const pieData = productSales.map(item => item.total_sold);
    
    const ctx = document.getElementById('barChart');
    const barChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: barLabels,
            datasets: [{
                label: 'Jumlah Penjualan',
                data: barData,
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
            y: {
                beginAtZero: true
            }
            }
        }
    });

    const ctx2 = document.getElementById('pieChart')
    const pieChart = new Chart(ctx2, {
        type: 'pie',
        data: {
            labels: pieLabels,
            datasets: [{
                label: 'Persentase Penjualan Produk',
                data: pieData,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                ],
                borderWidth: 1,
            }],
        },
        options: {
            resposnive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                title: {
                    display: true,
                    text: 'Persentase Penjualan Produk',
                }
            }
        }
    })
  </script>
</body>
</html>